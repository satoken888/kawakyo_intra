<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8" />
<title>河京イントラネット</title>
<link rel="stylesheet"
	href="webjars/bootstrap/4.3.1/css/bootstrap.min.css" />
<link href="css/dashboard.css" rel="stylesheet">
</head>
<body>
	<span th:text="${message}">Hello world</span>
	<form action="/test" method="POST">
		<input name="name" type="text" /><br /> <input type="submit" />
	</form>

	<div>
		<th:block th:if="${earnings}">
			<!-- ヌルポ対策 -->
			<th:block th:each="line: ${earnings}">
				<!-- 改行コードでsplitしてループ -->
				<th:block th:text="${line.key}" />
				<th:block th:text="${line.value}" />
				<br />
			</th:block>
		</th:block>
	</div>
	<script th:src="@{/webjars/jquery/3.3.1/jquery.min.js}"></script>
	<script src="webjars/bootstrap/4.3.1/js/bootstrap.min.js"></script>
	<script th:inline="javascript">
		function func() {
			var earnings = /*[[${earnings}]]*/
			alertMessage = '';
			Object.keys(earnings).forEach(key => alertMessage = alertMessage + key + 'の売上は' + Number(earnings[key]).toLocaleString() + 'です。' + '<br>');
			alert(alertMessage);
		}

		func();
	</script>
</body>
</html>